<!DOCTYPE html>
<html lang="cs" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>SkySensor — IoT Project</title>
    <meta name="description" content="SkySensor je modulární IoT platforma pro sběr meteorologických dat. Komplexní řešení od vlastního hardwaru (ESP32, LoRa) po cloudovou vizualizaci. Studentský projekt 2026/2027.">
    <meta name="keywords" content="SkySensor, IoT, meteostanice, počasí, ESP32, LoRa, Raspberry Pi, MQTT, InfluxDB, Grafana, Docker, React, environmentální monitoring, studentský projekt, PCB">
    <meta name="author" content="SkySensor Team">
    <link rel="icon" type="image/png" href="./logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: '#0b0d17',
                        surface: '#1a1c2c',
                        primary: '#6366f1'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['Courier New', 'monospace'],
                    }
                }
            }
        }
        
        try {
            const storedTheme = localStorage.getItem('theme');
            const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (storedTheme === 'dark' || (!storedTheme && systemDark)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        } catch (e) {
            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('dark');
            }
        }
    </script>
    <style>
        body {
            background-color: #0b0d17;
            color: #f3f4f6;
            overflow-x: hidden;
            transition: opacity 0.3s ease, background-color 0.3s ease, color 0.3s ease;
        }
        
        html:not(.dark) body {
            background-color: #f8fafc;
            color: #1e293b;
        }

        body.lang-switching {
            opacity: 0;
            pointer-events: none;
        }

        .dark body::before {
            content: '';
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -10;
            background: radial-gradient(circle at 10% 20%, rgba(168, 85, 247, 0.15), transparent 50%),
                        radial-gradient(circle at 80% 30%, rgba(99, 102, 241, 0.15), transparent 50%),
                        radial-gradient(circle at 30% 80%, rgba(59, 130, 246, 0.15), transparent 50%);
            animation: aurora-glow 20s linear infinite;
        }

        html:not(.dark) body::before {
            content: '';
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -10;
            background: radial-gradient(circle at 10% 20%, rgba(168, 85, 247, 0.05), transparent 50%),
                        radial-gradient(circle at 80% 30%, rgba(99, 102, 241, 0.05), transparent 50%);
        }
        
        @keyframes aurora-glow { 
            0% { transform: rotate(0deg) scale(1); } 
            50% { transform: rotate(180deg) scale(1.2); } 
            100% { transform: rotate(360deg) scale(1); } 
        }
        
        .glass-card {
            background: rgba(26, 28, 44, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        html:not(.dark) .glass-card {
            background: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        
        .interactive-card:hover {
            transform: translateY(-4px);
            cursor: pointer;
            border-color: rgba(99, 102, 241, 0.5);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.15);
        }
        
        .text-gradient {
            background-clip: text; 
            -webkit-background-clip: text; 
            color: transparent;
            background-image: linear-gradient(to right, #6366f1, #a855f7, #ec4899);
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in-up { opacity: 0; animation: fadeInUp 0.8s ease-out forwards; }
        .delay-1 { animation-delay: 0.1s; }
        .delay-2 { animation-delay: 0.2s; }
        .delay-3 { animation-delay: 0.3s; }
        .delay-4 { animation-delay: 0.4s; }
        
        .modal-overlay {
            opacity: 0; visibility: hidden;
            transition: all 0.3s ease-in-out;
        }
        .modal-overlay.active {
            opacity: 1; visibility: visible;
        }
        .modal-content {
            transform: scale(0.95) translateY(20px);
            transition: all 0.3s ease-in-out;
        }
        .modal-overlay.active .modal-content {
            transform: scale(1) translateY(0);
        }
        
        #theme-toggle:focus-visible, #lang-toggle:focus-visible {
            outline: none;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.5);
        }
        
        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 80%;
            max-width: 320px;
            height: 100vh;
            background: rgba(26, 28, 44, 0.95);
            backdrop-filter: blur(20px);
            z-index: 50;
            transition: right 0.3s ease-in-out;
            padding-top: 80px;
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .mobile-menu.active {
            right: 0;
        }
        
        html:not(.dark) .mobile-menu {
            background: rgba(255, 255, 255, 0.95);
            border-left: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 45;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }
        
        .mobile-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .hamburger {
            width: 24px;
            height: 20px;
            position: relative;
            transform: rotate(0deg);
            transition: .5s ease-in-out;
            cursor: pointer;
        }
        
        .hamburger span {
            display: block;
            position: absolute;
            height: 2px;
            width: 100%;
            background: currentColor;
            border-radius: 2px;
            opacity: 1;
            left: 0;
            transform: rotate(0deg);
            transition: .25s ease-in-out;
        }
        
        .hamburger span:nth-child(1) { top: 0; }
        .hamburger span:nth-child(2), .hamburger span:nth-child(3) { top: 8px; }
        .hamburger span:nth-child(4) { top: 16px; }
        
        .hamburger.active span:nth-child(1) {
            top: 8px;
            width: 0%;
            left: 50%;
        }
        
        .hamburger.active span:nth-child(2) {
            transform: rotate(45deg);
        }
        
        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg);
        }
        
        .hamburger.active span:nth-child(4) {
            top: 8px;
            width: 0%;
            left: 50%;
        }
        
        @media (max-width: 640px) {
            button, a, .interactive-card {
                min-height: 44px;
                min-width: 44px;
            }
            
            .modal-content {
                width: 95%;
                margin: 10px;
                max-height: 85vh;
            }
        }
        
        @media (max-width: 768px) {
            #roadmap-container {
                padding: 1.5rem;
            }
            
            #roadmap-container .absolute.left-8 {
                left: 1.5rem !important;
            }
            
            #roadmap-container .pl-12 {
                padding-left: 3.5rem !important;
            }
        }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #374151; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
        
        @supports(padding: max(0px)) {
            body, header, .mobile-menu {
                padding-left: min(0px, env(safe-area-inset-left));
                padding-right: min(0px, env(safe-area-inset-right));
            }
        }
    </style>
</head>
<body class="antialiased">
    
<header class="sticky top-0 z-40 w-full px-4 py-4 backdrop-blur-lg border-b border-white/10 dark:bg-[#1a1c2c]/70 bg-white/70">
    <div class="container mx-auto max-w-7xl flex justify-between items-center relative">
        <a href="#" class="flex items-center">
            <img src="./skysensor_black.png" alt="SkySensor" class="h-8 md:h-10 block dark:hidden">
            <img src="./skysensor_white.png" alt="SkySensor" class="h-8 md:h-10 hidden dark:block">
        </a>
        
        <nav class="hidden md:flex items-center gap-8 font-medium text-sm text-gray-500 dark:text-gray-400 absolute left-1/2 -translate-x-1/2">
            <a href="#" class="hover:text-indigo-500 transition-colors" data-i18n="nav_home">Home</a>
            <a href="#architecture" class="hover:text-indigo-500 transition-colors" data-i18n="nav_arch">Architektura</a>
            <a href="#technology" class="hover:text-indigo-500 transition-colors" data-i18n="nav_tech">Technologie</a>
            <a href="#roadmap" class="hover:text-indigo-500 transition-colors" data-i18n="nav_roadmap">Roadmapa</a>
        </nav>
        
        <div class="flex items-center gap-3">
            <button id="mobile-menu-toggle" class="md:hidden p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
            
             <button id="lang-toggle" class="px-3 py-1.5 rounded-lg glass-card text-xs font-bold text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors border border-gray-200 dark:border-gray-700">
                CZ
            </button>

            <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors focus:outline-none">
                <i id="theme-icon" data-feather="moon" class="w-5 h-5 dark:text-gray-200 text-gray-700"></i>
            </button>
        </div>
    </div>
</header>

<div id="mobile-menu-overlay" class="mobile-menu-overlay"></div>
<nav id="mobile-menu" class="mobile-menu">
    <div class="flex flex-col gap-6 p-6">
        <a href="#" class="text-lg font-medium py-3 hover:text-indigo-500 transition-colors border-b border-gray-200 dark:border-gray-700" data-i18n="nav_home" onclick="closeMobileMenu()">Home</a>
        <a href="#architecture" class="text-lg font-medium py-3 hover:text-indigo-500 transition-colors border-b border-gray-200 dark:border-gray-700" data-i18n="nav_arch" onclick="closeMobileMenu()">Architektura</a>
        <a href="#technology" class="text-lg font-medium py-3 hover:text-indigo-500 transition-colors border-b border-gray-200 dark:border-gray-700" data-i18n="nav_tech" onclick="closeMobileMenu()">Technologie</a>
        <a href="#roadmap" class="text-lg font-medium py-3 hover:text-indigo-500 transition-colors border-b border-gray-200 dark:border-gray-700" data-i18n="nav_roadmap" onclick="closeMobileMenu()">Roadmapa</a>
    </div>
</nav>

    <section class="relative min-h-screen flex items-center justify-center px-4 sm:px-6 pt-20 pb-24 overflow-hidden">
        <div class="max-w-6xl mx-auto text-center relative z-10">
            <div class="fade-in-up inline-flex items-center gap-2 px-4 py-2 rounded-full glass-card border border-indigo-500/30 mb-6 sm:mb-8">
                <span class="mono text-xs text-indigo-500 dark:text-indigo-400 uppercase tracking-wider font-bold" data-i18n="hero_badge">Studentský projekt 2026/2027</span>
            </div>
            
            <h1 class="fade-in-up delay-1 text-3xl sm:text-4xl md:text-5xl lg:text-8xl font-bold mb-4 sm:mb-6 leading-tight dark:text-white text-gray-900">
                <span data-i18n="hero_title_1">Environmentální</span><br class="hidden sm:block"/>
                <span class="text-gradient" data-i18n="hero_title_2">Inteligence</span>
            </h1>
            
            <p class="fade-in-up delay-2 text-base sm:text-lg md:text-xl text-gray-500 dark:text-gray-400 max-w-3xl mx-auto mb-8 sm:mb-12 font-light leading-relaxed px-2" data-i18n="hero_desc">
                Modulární IoT platforma pro sběr meteorologických dat. Komplexní návrh od vlastního PCB hardwaru po cloudovou vizualizaci.
            </p>
            
            <div class="fade-in-up delay-3 flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4">
                <a href="#architecture" class="px-6 sm:px-8 py-3 sm:py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition-all hover:scale-105 shadow-lg shadow-indigo-500/30 w-full sm:w-auto text-sm sm:text-base" data-i18n="btn_how">
                    Jak to funguje
                </a>
                <a href="#technology" class="px-6 sm:px-8 py-3 sm:py-4 glass-card rounded-lg font-semibold flex items-center justify-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-800/60 dark:text-white text-gray-800 w-full sm:w-auto transition-colors text-sm sm:text-base">
                    <span data-i18n="btn_stack">Tech Stack</span>
                    <i data-feather="code" class="w-4 h-4 sm:w-5 sm:h-5"></i>
                </a>
            </div>
            
            <div class="fade-in-up delay-4 grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 mt-12 sm:mt-20 max-w-4xl mx-auto px-2">
                <div class="glass-card rounded-xl p-4 sm:p-6 text-center">
                    <div class="mono text-xl sm:text-2xl md:text-3xl font-bold text-indigo-500 dark:text-indigo-400 mb-1 sm:mb-2">Clean UI</div>
                    <div class="text-xs sm:text-sm text-gray-500 dark:text-gray-400" data-i18n="stat_ui">Přehledné rozhraní</div>
                </div>
                <div class="glass-card rounded-xl p-4 sm:p-6 text-center">
                    <div class="mono text-xl sm:text-2xl md:text-3xl font-bold text-purple-500 dark:text-purple-400 mb-1 sm:mb-2">LoRa</div>
                    <div class="text-xs sm:text-sm text-gray-500 dark:text-gray-400" data-i18n="stat_lora">P2P Komunikace</div>
                </div>
                <div class="glass-card rounded-xl p-4 sm:p-6 text-center">
                    <div class="mono text-xl sm:text-2xl md:text-3xl font-bold text-green-500 dark:text-green-400 mb-1 sm:mb-2">IP65</div>
                    <div class="text-xs sm:text-sm text-gray-500 dark:text-gray-400" data-i18n="stat_ip">Cílové krytí</div>
                </div>
                <div class="glass-card rounded-xl p-4 sm:p-6 text-center">
                    <div class="mono text-xl sm:text-2xl md:text-3xl font-bold text-yellow-500 dark:text-yellow-400 mb-1 sm:mb-2">Docker</div>
                    <div class="text-xs sm:text-sm text-gray-500 dark:text-gray-400">CI/CD Pipeline</div>
                </div>
            </div>
        </div>
    </section>

    <section id="architecture" class="relative py-12 sm:py-24 px-4 sm:px-6 bg-gray-50/50 dark:bg-transparent transition-colors">
        <div class="max-w-6xl mx-auto">
            <div class="h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent mb-12 sm:mb-20"></div>
            
            <div class="text-center mb-8 sm:mb-16 px-2">
                <div class="mono text-xs sm:text-sm text-indigo-500 uppercase tracking-wider mb-3 sm:mb-4" data-i18n="sec_arch_sub">02 / Architektura</div>
                <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 dark:text-white text-gray-900" data-i18n="sec_arch_title">Přehled systému</h2>
                <p class="text-sm sm:text-base md:text-lg text-gray-500 dark:text-gray-400 max-w-2xl mx-auto" data-i18n="sec_arch_desc">
                    Systém je rozdělen do specializovaných modulů. Klikněte na jednotlivé karty pro detailní technickou specifikaci.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 mb-8 sm:mb-12">
                <div onclick="openModal('module-a')" class="glass-card interactive-card rounded-2xl p-6 sm:p-8 border-l-4 border-l-blue-500 group">
                    <div class="flex items-start justify-between mb-4 sm:mb-6">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 font-bold text-lg sm:text-xl">A</div>
                        <div class="opacity-0 group-hover:opacity-100 transition-opacity text-xs text-blue-500 flex items-center gap-1">
                            <span data-i18n="more_info">Více info</span> <i data-feather="external-link" class="w-3 h-3"></i>
                        </div>
                    </div>
                    <h3 class="text-xl sm:text-2xl font-bold mb-2 sm:mb-3 dark:text-white text-gray-900" data-i18n="mod_a_title">Venkovní měřicí jednotka</h3>
                    <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-3 sm:mb-4" data-i18n="mod_a_desc">
                        Autonomní stanice s vlastním PCB. Sběr dat ze senzorů a LoRa vysílání.
                    </p>
                    <div class="flex gap-2 flex-wrap">
                        <span class="px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded text-xs mono">ESP32</span>
                        <span class="px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded text-xs mono">LoRa RFM95</span>
                    </div>
                </div>
                
                <div onclick="openModal('module-b')" class="glass-card interactive-card rounded-2xl p-6 sm:p-8 border-l-4 border-l-purple-500 group">
                    <div class="flex items-start justify-between mb-4 sm:mb-6">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-600 dark:text-purple-400 font-bold text-lg sm:text-xl">B</div>
                        <div class="opacity-0 group-hover:opacity-100 transition-opacity text-xs text-purple-500 flex items-center gap-1">
                            <span data-i18n="more_info">Více info</span> <i data-feather="external-link" class="w-3 h-3"></i>
                        </div>
                    </div>
                    <h3 class="text-xl sm:text-2xl font-bold mb-2 sm:mb-3 dark:text-white text-gray-900" data-i18n="mod_b_title">Headless Server & Brána</h3>
                    <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-3 sm:mb-4" data-i18n="mod_b_desc">
                        Centrální mozek systému běžící na RPi. Příjem dat, MQTT broker a databáze.
                    </p>
                    <div class="flex gap-2 flex-wrap">
                        <span class="px-2 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded text-xs mono">Raspberry Pi</span>
                        <span class="px-2 py-1 bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded text-xs mono">Docker</span>
                    </div>
                </div>
                
                <div onclick="openModal('module-c')" class="glass-card interactive-card rounded-2xl p-6 sm:p-8 border-l-4 border-l-green-500 group">
                    <div class="flex items-start justify-between mb-4 sm:mb-6">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600 dark:text-green-400 font-bold text-lg sm:text-xl">C</div>
                        <div class="opacity-0 group-hover:opacity-100 transition-opacity text-xs text-green-500 flex items-center gap-1">
                            <span data-i18n="more_info">Více info</span> <i data-feather="external-link" class="w-3 h-3"></i>
                        </div>
                    </div>
                    <h3 class="text-xl sm:text-2xl font-bold mb-2 sm:mb-3 dark:text-white text-gray-900" data-i18n="mod_c_title">Webová Vizualizace</h3>
                    <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-3 sm:mb-4" data-i18n="mod_c_desc">
                        Interaktivní dashboard hostovaný na Modulu B. Přístupný z PC, mobilu či tabletu.
                    </p>
                    <div class="flex gap-2 flex-wrap">
                        <span class="px-2 py-1 bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded text-xs mono">React/Vue</span>
                        <span class="px-2 py-1 bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded text-xs mono">Grafana</span>
                    </div>
                </div>
                
                <div onclick="openModal('module-d')" class="glass-card interactive-card rounded-2xl p-6 sm:p-8 border-l-4 border-l-orange-500 group">
                    <div class="flex items-start justify-between mb-4 sm:mb-6">
                        <div class="w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center text-orange-600 dark:text-orange-400 font-bold text-lg sm:text-xl">D</div>
                        <div class="opacity-0 group-hover:opacity-100 transition-opacity text-xs text-orange-500 flex items-center gap-1">
                            <span data-i18n="more_info">Více info</span> <i data-feather="external-link" class="w-3 h-3"></i>
                        </div>
                    </div>
                    <h3 class="text-xl sm:text-2xl font-bold mb-2 sm:mb-3 dark:text-white text-gray-900" data-i18n="mod_d_title">Satelitní Uzel</h3>
                    <p class="text-sm sm:text-base text-gray-600 dark:text-gray-400 mb-3 sm:mb-4" data-i18n="mod_d_desc">
                        Volitelný bateriový senzor (např. do sklepa) pro demonstraci škálovatelnosti.
                    </p>
                    <div class="flex gap-2 flex-wrap">
                        <span class="px-2 py-1 bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded text-xs mono">Low Power</span>
                        <span class="px-2 py-1 bg-orange-100 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded text-xs mono">Baterie</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="technology" class="relative py-12 sm:py-24 px-4 sm:px-6">
        <div class="max-w-6xl mx-auto">
            <div class="h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent mb-12 sm:mb-20"></div>
            
            <div class="text-center mb-8 sm:mb-16 px-2">
                <div class="mono text-xs sm:text-sm text-indigo-500 uppercase tracking-wider mb-3 sm:mb-4" data-i18n="sec_tech_sub">03 / Technologie</div>
                <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-4 sm:mb-6 dark:text-white text-gray-900" data-i18n="sec_tech_title">Tech Stack</h2>
                <p class="text-sm sm:text-base text-gray-500 dark:text-gray-400" data-i18n="sec_tech_desc">Klikněte pro technické detaily implementace.</p>
            </div>
            
            <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6">
                <div class="glass-card interactive-card rounded-xl p-4 sm:p-6 text-center" onclick="openModal('tech-hw')">
                    <i data-feather="cpu" class="mx-auto w-6 h-6 sm:w-8 sm:h-8 text-blue-500 mb-2 sm:mb-3"></i>
                    <h3 class="text-sm sm:text-base font-bold dark:text-white text-gray-900">ESP32 & LoRa</h3>
                </div>
                <div class="glass-card interactive-card rounded-xl p-4 sm:p-6 text-center" onclick="openModal('tech-backend')">
                    <i data-feather="server" class="mx-auto w-6 h-6 sm:w-8 sm:h-8 text-green-500 mb-2 sm:mb-3"></i>
                    <h3 class="text-sm sm:text-base font-bold dark:text-white text-gray-900">Python & MQTT</h3>
                </div>
                <div class="glass-card interactive-card rounded-xl p-4 sm:p-6 text-center" onclick="openModal('tech-db')">
                    <i data-feather="database" class="mx-auto w-6 h-6 sm:w-8 sm:h-8 text-purple-500 mb-2 sm:mb-3"></i>
                    <h3 class="text-sm sm:text-base font-bold dark:text-white text-gray-900">InfluxDB</h3>
                </div>
                <div class="glass-card interactive-card rounded-xl p-4 sm:p-6 text-center" onclick="openModal('tech-frontend')">
                    <i data-feather="layout" class="mx-auto w-6 h-6 sm:w-8 sm:h-8 text-orange-500 mb-2 sm:mb-3"></i>
                    <h3 class="text-sm sm:text-base font-bold dark:text-white text-gray-900">React Dashboard</h3>
                </div>
            </div>
        </div>
    </section>

<section id="roadmap" class="relative py-12 sm:py-24 px-4 sm:px-6 bg-gray-50/50 dark:bg-transparent transition-colors">
    <div class="max-w-4xl mx-auto">
        <div class="h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent mb-12 sm:mb-20"></div>
        
        <div class="text-center mb-8 sm:mb-16 px-2">
            <div class="mono text-xs sm:text-sm text-indigo-500 uppercase tracking-wider mb-3 sm:mb-4" data-i18n="sec_road_sub">04 / Plán Projektu</div>
            <h2 class="text-xl sm:text-2xl md:text-3xl lg:text-4xl font-bold mb-4 sm:mb-6 dark:text-white text-gray-900" data-i18n="sec_road_title">Harmonogram Vývoje</h2>
            <p class="text-sm sm:text-base text-gray-500 dark:text-gray-400 max-w-xl mx-auto" data-i18n="sec_road_desc">
                Projekt je rozdělen do navazujících fází od teoretické analýzy po finální integraci hardwaru a softwaru.
            </p>
        </div>
        
        <div id="roadmap-container" class="glass-card rounded-2xl p-4 sm:p-6 md:p-8 relative min-h-[300px] sm:min-h-[400px]">
        </div>
    </div>
</section>

<footer class="relative py-8 sm:py-12 px-4 sm:px-6 border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-[#0b0d17] transition-colors">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-center gap-8 sm:gap-12 md:gap-24">
        
        <div class="flex flex-col items-center order-2 md:order-1">
            <button onclick="copyEmail()" class="relative flex items-center gap-2 hover:text-indigo-500 transition-all group text-xs sm:text-sm text-gray-500 p-2">
                <i data-feather="mail" class="w-4 h-4"></i>
                <span id="email-text">info@skysensor.tech</span>
                <span id="copy-toast" class="absolute -top-8 left-1/2 -translate-x-1/2 bg-indigo-600 text-white text-[10px] py-1 px-2 rounded opacity-0 transition-opacity pointer-events-none" data-i18n="copied">Zkopírováno!</span>
            </button>
        </div>

        <div class="flex flex-col items-center gap-3 order-1 md:order-2">
            <a href="#" class="block">
                <img src="./skysensor_black.png" alt="SkySensor" class="h-6 sm:h-7 block dark:hidden mx-auto">
                <img src="./skysensor_white.png" alt="SkySensor" class="h-6 sm:h-7 hidden dark:block mx-auto">
            </a>
            <p class="text-xs text-gray-500 text-center" data-i18n="footer_copy">© 2026 Všechna práva vyhrazena.</p>
        </div>
        
    </div>
</footer>

    <div id="modal-overlay" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-black/80 backdrop-blur-sm">
        <div class="modal-content w-full max-w-2xl bg-white dark:bg-[#1a1c2c] rounded-xl sm:rounded-2xl shadow-2xl overflow-hidden border border-gray-200 dark:border-gray-700 flex flex-col max-h-[90vh]">
            
            <div class="p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-[#1a1c2c] z-10">
                <h3 id="modal-title" class="text-lg sm:text-xl md:text-2xl font-bold dark:text-white text-gray-900">Titulek</h3>
                <button onclick="closeModal()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors group">
                    <i data-feather="x" class="w-5 h-5 sm:w-6 sm:h-6 text-gray-500 group-hover:text-red-500 transition-colors"></i>
                </button>
            </div>
            
            <div id="modal-body" class="p-4 sm:p-6 overflow-y-auto text-sm sm:text-base text-gray-600 dark:text-gray-300 leading-relaxed">
            </div>
            
            <div class="p-4 sm:p-6 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-[#151725] flex justify-end">
                <button onclick="closeModal()" class="px-4 sm:px-6 py-2 sm:py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors text-sm sm:text-base" data-i18n="btn_close">
                    Zavřít
                </button>
            </div>
        </div>
    </div>

    <script>
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
        const hamburger = document.querySelector('.hamburger');

        function toggleMobileMenu() {
            mobileMenu.classList.toggle('active');
            mobileMenuOverlay.classList.toggle('active');
            hamburger.classList.toggle('active');
            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
        }

        function closeMobileMenu() {
            mobileMenu.classList.remove('active');
            mobileMenuOverlay.classList.remove('active');
            hamburger.classList.remove('active');
            document.body.style.overflow = '';
        }

        mobileMenuToggle.addEventListener('click', toggleMobileMenu);
        mobileMenuOverlay.addEventListener('click', closeMobileMenu);

        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', closeMobileMenu);
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && mobileMenu.classList.contains('active')) {
                closeMobileMenu();
            }
        });

        const translations = {
            cs: {
                nav_home: "Home",
                nav_arch: "Architektura",
                nav_tech: "Technologie",
                nav_roadmap: "Roadmapa",
                hero_badge: "STUDENTSKÝ PROJEKT 2026/2027",
                hero_title_1: "Environmentální",
                hero_title_2: "Inteligence",
                hero_desc: "Modulární IoT platforma pro sběr meteorologických dat. Komplexní návrh od vlastního PCB hardwaru po cloudovou vizualizaci.",
                btn_how: "Jak to funguje",
                btn_stack: "Tech Stack",
                stat_ui: "Přehledné rozhraní",
                stat_lora: "P2P Komunikace",
                stat_ip: "Cílové krytí",
                sec_arch_sub: "02 / Architektura",
                sec_arch_title: "Přehled systému",
                sec_arch_desc: "Systém je rozdělen do specializovaných modulů. Klikněte na jednotlivé karty pro detailní technickou specifikaci.",
                more_info: "Více info",
                mod_a_title: "Venkovní měřicí jednotka",
                mod_a_desc: "Autonomní stanice s vlastním PCB. Sběr dat ze senzorů a LoRa vysílání.",
                mod_b_title: "Headless Server & Brána",
                mod_b_desc: "Centrální mozek systému běžící na RPi. Příjem dat, MQTT broker a databáze.",
                mod_c_title: "Webová Vizualizace",
                mod_c_desc: "Interaktivní dashboard hostovaný na Modulu B. Přístupný z PC, mobilu či tabletu.",
                mod_d_title: "Satelitní Uzel",
                mod_d_desc: "Volitelný bateriový senzor (např. do sklepa) pro demonstraci škálovatelnosti.",
                sec_tech_sub: "03 / Technologie",
                sec_tech_title: "Tech Stack",
                sec_tech_desc: "Klikněte pro technické detaily implementace.",
                sec_road_sub: "04 / Plán Projektu",
                sec_road_title: "Status Vývoje",
                sec_road_desc: "Projekt je rozdělen do navazujících fází od teoretické analýzy po finální integraci hardwaru a softwaru.",
                ph0_title: "Fáze 0: Koncept & Web",
                ph0_desc: "Definice cílů, nákup domény, vytvoření prezentační stránky (Tato stránka).",
                status_done: "DOKONČENO",
                ph1_title: "Fáze 1: MVP (Probíhá)",
                ph1_l1: "• Základní spojení ESP32 + BME280",
                ph1_l2: "• LoRa P2P přenos na RPi",
                ph1_l3: "• Ukládání do InfluxDB a zobrazení v Grafaně",
                ph1_l4: "• Vývoj Carrier Board PCB",
                status_dev: "VE VÝVOJI",
                ph2_title: "Fáze 2: Finální Produkt",
                ph2_desc: "Pokročilé senzory (blesky, vítr), 3D tištěné kryty IP65, vlastní React Dashboard, AI detekce anomálií.",
                footer_copy: "© 2026 Všechna práva vyhrazena.",
                copied: "Zkopírováno!",
                btn_close: "Zavřít"
            },
            en: {
                nav_home: "Home",
                nav_arch: "Architecture",
                nav_tech: "Technology",
                nav_roadmap: "Roadmap",
                hero_badge: "GRADUATION PROJECT 2026/2027",
                hero_title_1: "Environmental",
                hero_title_2: "Intelligence",
                hero_desc: "Modular IoT platform for meteorological data collection. Comprehensive design from custom PCB hardware to cloud visualization.",
                btn_how: "How it works",
                btn_stack: "Tech Stack",
                stat_ui: "Minimal design",
                stat_lora: "P2P Communication",
                stat_ip: "Target Protection",
                sec_arch_sub: "02 / Architecture",
                sec_arch_title: "System Overview",
                sec_arch_desc: "The system is divided into specialized modules. Click on individual cards for detailed technical specifications.",
                more_info: "More info",
                mod_a_title: "Outdoor Measurement Unit",
                mod_a_desc: "Autonomous station with custom PCB. Sensor data collection and LoRa broadcasting.",
                mod_b_title: "Headless Server & Gateway",
                mod_b_desc: "Central brain running on RPi. Data reception, MQTT broker, and database.",
                mod_c_title: "Web Visualization",
                mod_c_desc: "Interactive dashboard hosted on Module B. Accessible from PC, mobile, or tablet.",
                mod_d_title: "Satellite Node",
                mod_d_desc: "Optional battery-powered sensor (e.g., for basements) to demonstrate scalability.",
                sec_tech_sub: "03 / Technology",
                sec_tech_title: "Tech Stack",
                sec_tech_desc: "Click for technical implementation details.",
                sec_road_sub: "04 / Roadmap",
                sec_road_title: "Development Status",
                sec_road_desc: "The project is divided into consecutive phases from theoretical analysis to final hardware and software integration.",
                ph0_title: "Phase 0: Concept & Web",
                ph0_desc: "Defining goals, domain purchase, creation of presentation site (This page).",
                status_done: "COMPLETED",
                ph1_title: "Phase 1: MVP (In Progress)",
                ph1_l1: "• Basic ESP32 + BME280 connection",
                ph1_l2: "• LoRa P2P transmission to RPi",
                ph1_l3: "• Storing in InfluxDB and Grafana visualization",
                ph1_l4: "• Carrier Board PCB development",
                status_dev: "IN DEVELOPMENT",
                ph2_title: "Phase 2: Final Product",
                ph2_desc: "Advanced sensors (lightning, wind), 3D printed IP65 enclosures, custom React Dashboard, AI anomaly detection.",
                footer_copy: "© 2026 All rights reserved.",
                copied: "Copied!",
                btn_close: "Close"
            }
        };

        let roadmapData = [];

        function renderRoadmap() {
            const container = document.getElementById('roadmap-container');
            if (!container) return;
            
            if (!roadmapData || roadmapData.length === 0) {
                container.innerHTML = '<div class="text-center p-8 text-gray-500 animate-pulse">Načítám plán projektu...</div>';
                return;
            }

            let html = `<div class="absolute left-4 sm:left-8 top-10 bottom-10 w-0.5 bg-gray-200 dark:bg-gray-700"></div>`;

            roadmapData.forEach(phase => {
                const title = (phase.title[currentLang] || phase.title['cs']);
                const desc = (phase.desc[currentLang] || phase.desc['cs']);
                const badge = phase.badge ? (phase.badge[currentLang] || phase.badge['cs']) : '';
                
                let iconHtml = '';
                let badgeHtml = '';
                let opacityClass = '';
                let borderClass = '';

                if (phase.status === 'done') {
                    iconHtml = `
                        <div class="absolute left-4 sm:left-8 top-1.5 w-4 h-4 sm:w-6 sm:h-6 rounded-full bg-green-500 border-2 sm:border-4 border-white dark:border-[#1a1c2c] -translate-x-1/2 flex items-center justify-center shadow-lg shadow-green-500/30">
                            <i data-feather="check" class="w-2 h-2 sm:w-3 sm:h-3 text-white"></i>
                        </div>`;
                    if (badge) badgeHtml = `<span class="ml-2 inline-block px-2 py-0.5 text-[9px] sm:text-[10px] bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded uppercase tracking-wide font-bold">${badge}</span>`;
                    borderClass = 'border-green-500/20';
                } 
                else if (phase.status === 'current') {
                    iconHtml = `
                        <div class="absolute left-4 sm:left-8 top-1.5 w-4 h-4 sm:w-6 sm:h-6 rounded-full bg-indigo-500 border-2 sm:border-4 border-white dark:border-[#1a1c2c] -translate-x-1/2 shadow-lg shadow-indigo-500/30">
                            <div class="absolute inset-0 rounded-full animate-ping bg-indigo-500 opacity-75"></div>
                        </div>`;
                    if (badge) badgeHtml = `<span class="ml-2 inline-block px-2 py-0.5 text-[9px] sm:text-[10px] bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded uppercase tracking-wide font-bold">${badge}</span>`;
                    borderClass = 'border-indigo-500/20';
                } 
                else {
                    iconHtml = `
                        <div class="absolute left-4 sm:left-8 top-1.5 w-4 h-4 sm:w-6 sm:h-6 rounded-full bg-gray-200 dark:bg-gray-700 border-2 sm:border-4 border-white dark:border-[#1a1c2c] -translate-x-1/2"></div>`;
                    opacityClass = 'opacity-80';
                    borderClass = 'border-gray-300 dark:border-gray-700';
                    if (badge) badgeHtml = `<span class="ml-2 inline-block px-2 py-0.5 text-[9px] sm:text-[10px] bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 rounded uppercase tracking-wide font-bold">${badge}</span>`;
                }

                const listItems = phase.items.map(item => 
                    `<li class="text-xs sm:text-sm">• ${item[currentLang] || item['cs']}</li>`
                ).join('');

                html += `
                    <div class="relative pl-8 sm:pl-12 mb-8 sm:mb-12 ${opacityClass}">
                        ${iconHtml}
                        <h3 class="text-base sm:text-lg md:text-xl font-bold dark:text-white text-gray-900 mb-1 sm:mb-2">
                            ${title} ${badgeHtml}
                        </h3>
                        <p class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 mb-2 sm:mb-3">
                            ${desc}
                        </p>
                        <ul class="text-xs sm:text-sm text-gray-500 dark:text-gray-400 space-y-1 sm:space-y-2 border-l-2 ${borderClass} pl-3 sm:pl-4">
                            ${listItems}
                        </ul>
                    </div>
                `;
            });

            container.innerHTML = html;
            if (typeof feather !== 'undefined') feather.replace();
        }

        function loadRoadmapData() {
            fetch('./roadmap.json')
                .then(response => {
                    if (!response.ok) throw new Error('Chyba sítě');
                    return response.json();
                })
                .then(data => {
                    roadmapData = data;
                    renderRoadmap();
                })
                .catch(error => {
                    console.error('Chyba roadmapy:', error);
                    roadmapData = [
  {
    "id": 1,
    "status": "done",
    "title": { "cs": "1. Analýza & Cíle", "en": "1. Analysis & Goals" },
    "badge": { "cs": "DOKONČENO", "en": "COMPLETED" },
    "desc": {
      "cs": "Základ projektu a rozdělení systému na moduly.",
      "en": "Project foundation and system modularization."
    },
    "items": [
      {
        "cs": "Analýza zadání a definice modulů A (venkovní), B (centrální), C (UI), D (satelitní)",
        "en": "Assignment analysis and module definition (A – outdoor, B – central, C – UI, D – satellite)"
      },
      {
        "cs": "Stanovení cílů, funkčních požadavků a provozních podmínek",
        "en": "Goal setting, functional requirements and operational conditions"
      },
      {
        "cs": "Zprovoznění webové prezentace a domény skysensor.tech",
        "en": "Launch of web presentation and domain skysensor.tech"
      }
    ]
  },
  {
    "id": 2,
    "status": "done",
    "title": { "cs": "2. Koncepce & Architektura", "en": "2. Concept & Architecture" },
    "badge": { "cs": "DOKONČENO", "en": "COMPLETED" },
    "desc": {
      "cs": "Návrh celkové architektury, komunikace a toku dat.",
      "en": "Overall system architecture, communication and data flow design."
    },
    "items": [
      {
        "cs": "Návrh architektury systému a blokové schéma",
        "en": "System architecture design and block diagram"
      },
      {
        "cs": "Určení rolí modulů a způsobů vzájemné komunikace",
        "en": "Definition of module roles and inter-module communication"
      },
      {
        "cs": "Návrh toku dat od senzorů po vizualizaci",
        "en": "Data flow design from sensors to visualization"
      }
    ]
  },
  {
    "id": 3,
    "status": "current",
    "title": { "cs": "3. Výběr HW & Návrh", "en": "3. HW Selection & Design" },
    "badge": { "cs": "PRÁVĚ PROBÍHÁ", "en": "IN PROGRESS" },
    "desc": {
      "cs": "Výběr komponent a návrh elektroniky a mechaniky.",
      "en": "Component selection and electronics/mechanics design."
    },
    "items": [
      {
        "cs": "Výběr HW: ESP32, LoRa RFM95, Raspberry Pi, senzory (BME280, AS3935, atd.)",
        "en": "HW Selection: ESP32, LoRa RFM95, Raspberry Pi, sensors (BME280, AS3935, etc.)"
      },
      {
        "cs": "Návrh vlastního PCB (Carrier Board) pro Modul A",
        "en": "Custom PCB design (Carrier Board) for Module A"
      },
      {
        "cs": "Návrh 3D modelů: kryt venkovní jednotky (IP65) a krabičky pro RPi",
        "en": "3D model design: outdoor enclosure (IP65) and RPi case"
      },
      {
        "cs": "Řešení napájení, přepěťové ochrany a kabeláže",
        "en": "Power supply, surge protection and cabling solutions"
      }
    ]
  },
  {
    "id": 4,
    "status": "planned",
    "title": { "cs": "4. Realizace HW (MVP)", "en": "4. HW Realization (MVP)" },
    "badge": { "cs": "PLÁNOVÁNO", "en": "PLANNED" },
    "desc": {
      "cs": "Fyzická výroba a sestavení hardwaru pro MVP.",
      "en": "Physical manufacturing and hardware assembly for MVP."
    },
    "items": [
      {
        "cs": "Výroba a osazení PCB (Carrier Board)",
        "en": "PCB manufacturing and assembly"
      },
      {
        "cs": "Zapojení senzorů, integrace LoRa modulu",
        "en": "Sensor wiring, LoRa module integration"
      },
      {
        "cs": "Mechanická montáž do 3D tištěných krytů",
        "en": "Mechanical assembly into 3D printed enclosures"
      },
      {
        "cs": "Základní oživení a kontrola funkčnosti",
        "en": "Basic power-up and functionality check"
      }
    ]
  },
  {
    "id": 5,
    "status": "planned",
    "title": { "cs": "5. Vývoj SW (MVP)", "en": "5. SW Development (MVP)" },
    "badge": { "cs": "PLÁNOVÁNO", "en": "PLANNED" },
    "desc": {
      "cs": "Vývoj firmwaru, backendu a základní vizualizace.",
      "en": "Firmware, backend and basic visualization development."
    },
    "items": [
      {
        "cs": "Firmware pro ESP32: čtení BME280, odesílání přes LoRa",
        "en": "ESP32 firmware: BME280 reading, LoRa transmission"
      },
      {
        "cs": "Backend (RPi): Python skript pro příjem dat, InfluxDB",
        "en": "Backend (RPi): Python script for data ingestion, InfluxDB"
      },
      {
        "cs": "Základní vizualizace: nasazení Grafany",
        "en": "Basic visualization: Grafana deployment"
      },
      {
        "cs": "MQTT broker (Mosquitto) a základní API",
        "en": "MQTT broker (Mosquitto) and basic API"
      }
    ]
  },
  {
    "id": 6,
    "status": "planned",
    "title": { "cs": "6. Rozšíření na Finální Produkt", "en": "6. Extension to Final Product" },
    "badge": { "cs": "PLÁNOVÁNO", "en": "PLANNED" },
    "desc": {
      "cs": "Pokročilé senzory, vlastní UI, AI a satelitní uzel.",
      "en": "Advanced sensors, custom UI, AI and satellite node."
    },
    "items": [
      {
        "cs": "Integrace pokročilých senzorů (AS3935, srážkoměr, anemometr)",
        "en": "Integration of advanced sensors (AS3935, rain gauge, anemometer)"
      },
      {
        "cs": "Vývoj vlastního React dashboardu (Modul C)",
        "en": "Custom React dashboard development (Module C)"
      },
      {
        "cs": "Implementace AI pro detekci anomálií a predikci",
        "en": "AI implementation for anomaly detection and prediction"
      },
      {
        "cs": "Vývoj a nasazení satelitního uzlu (Modul D)",
        "en": "Satellite node development and deployment (Module D)"
      }
    ]
  },
  {
    "id": 7,
    "status": "planned",
    "title": { "cs": "7. Integrace & Testování", "en": "7. Integration & Testing" },
    "badge": { "cs": "PLÁNOVÁNO", "en": "PLANNED" },
    "desc": {
      "cs": "Komplexní testování celého systému.",
      "en": "Comprehensive system testing."
    },
    "items": [
      {
        "cs": "Propojení všech modulů a testování komunikace",
        "en": "Interconnection of all modules and communication testing"
      },
      {
        "cs": "Test přesnosti měření, stability napájení a dosahu LoRa",
        "en": "Measurement accuracy, power stability and LoRa range testing"
      },
      {
        "cs": "Zátěžové testy a ověření dlouhodobé spolehlivosti",
        "en": "Load testing and long-term reliability verification"
      },
      {
        "cs": "Ověření dostupnosti z klientských zařízení (tablet, mobil, PC)",
        "en": "Client device accessibility verification (tablet, mobile, PC)"
      }
    ]
  },
  {
    "id": 8,
    "status": "planned",
    "title": { "cs": "8. Dokumentace & Vyhodnocení", "en": "8. Documentation & Evaluation" },
    "badge": { "cs": "PLÁNOVÁNO", "en": "PLANNED" },
    "desc": {
      "cs": "Kompletní dokumentace a závěrečné vyhodnocení.",
      "en": "Complete documentation and final evaluation."
    },
    "items": [
      {
        "cs": "Technická dokumentace: HW, SW, firmware, UI",
        "en": "Technical documentation: HW, SW, firmware, UI"
      },
      {
        "cs": "Uživatelský manuál a instalační příručka",
        "en": "User manual and installation guide"
      },
      {
        "cs": "Vyhodnocení splnění cílů a výkonu systému",
        "en": "Goal achievement and system performance evaluation"
      },
      {
        "cs": "Návrh dalšího rozvoje a vylepšení",
        "en": "Proposal for further development and improvements"
      }
    ]
  }
];
                    renderRoadmap();
                });
        }

        const themeToggle = document.getElementById('theme-toggle');
        const langToggle = document.getElementById('lang-toggle');
        let currentLang = 'cs';

        function updateIcon(theme) {
            const iconName = theme === 'dark' ? 'sun' : 'moon';
            themeToggle.innerHTML = `<i data-feather="${iconName}" class="w-5 h-5 dark:text-gray-200 text-gray-700"></i>`;
            feather.replace();
        }

        try {
            updateIcon(document.documentElement.classList.contains('dark') ? 'dark' : 'light');
        } catch(e) {
            updateIcon('light');
        }

        themeToggle.addEventListener('click', function() {
            try {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('theme', 'light');
                    updateIcon('light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                    updateIcon('dark');
                }
            } catch (e) {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    updateIcon('light');
                } else {
                    document.documentElement.classList.add('dark');
                    updateIcon('dark');
                }
            }
        });

        function updateTexts(lang) {
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    element.innerText = translations[lang][key];
                }
            });
        }

        function setLanguage(lang) {
            document.body.classList.add('lang-switching');

            setTimeout(() => {
                currentLang = lang;
                langToggle.innerText = lang === 'cs' ? 'CZ' : 'EN';
                
                try {
                    localStorage.setItem('language', lang);
                } catch(e) {}
                
                updateTexts(lang);
                renderRoadmap();
                
                document.body.classList.remove('lang-switching');
            }, 300);
        }

        function initLanguage() {
            let targetLang = 'cs';

            try {
                if (localStorage.getItem('language')) {
                    targetLang = localStorage.getItem('language');
                } 
                else {
                    const langs = navigator.languages || [navigator.language || navigator.userLanguage];
                    const isCzechOrSlovak = langs.some(lang => 
                        lang.toLowerCase().startsWith('cs') || 
                        lang.toLowerCase().startsWith('sk')
                    );

                    if (isCzechOrSlovak) {
                        targetLang = 'cs';
                    } else {
                        targetLang = 'en';
                    }
                }
            } catch(e) {
                const lang = (navigator.language || 'en').toLowerCase();
                if (lang.startsWith('cs') || lang.startsWith('sk')) targetLang = 'cs';
            }
            
            currentLang = targetLang;
            langToggle.innerText = targetLang === 'cs' ? 'CZ' : 'EN';
            updateTexts(targetLang);
        }

        langToggle.addEventListener('click', () => {
            const newLang = currentLang === 'cs' ? 'en' : 'cs';
            setLanguage(newLang);
        });

        initLanguage();
        feather.replace();
        loadRoadmapData();

        function copyEmail() {
            const email = "info@skysensor.tech";
            navigator.clipboard.writeText(email).then(() => {
                const toast = document.getElementById('copy-toast');
                toast.style.opacity = '1';
                setTimeout(() => { toast.style.opacity = '0'; }, 2000);
            });
        }

        const projectData = {
            'module-a': {
                title_cs: 'Modul A: Venkovní měřicí jednotka',
                title_en: 'Module A: Outdoor Measurement Unit',
                content_cs: `
                    <div class="space-y-3 sm:space-y-4">
                        <p class="font-medium text-indigo-500">Primární sběr dat z prostředí.</p>
                        <p class="text-sm sm:text-base">Autonomní venkovní jednotka navržená pro dlouhodobý provoz. Je postavena na vlastním navrženém "Carrier Board" PCB.</p>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Hardware Specifikace:</h4>
                        <ul class="list-disc pl-4 sm:pl-5 space-y-1 text-sm sm:text-base">
                            <li><strong>MCU:</strong> ESP32 (WROOM-32) - zvolen pro deep-sleep režimy a výkon.</li>
                            <li><strong>Komunikace:</strong> LoRa modul RFM95 (868 MHz) v P2P režimu pro dlouhý dosah.</li>
                            <li><strong>Základní senzory:</strong> BME280 (Tlak, Teplota, Vlhkost).</li>
                            <li><strong>Pokročilé senzory (Fáze 2):</strong> AS3935 (Detektor blesků), srážkoměr, anemometr.</li>
                        </ul>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Konstrukce:</h4>
                        <p class="text-sm sm:text-base">3D tištěný kryt z materiálu ASA/PETG splňující standard IP65. Obsahuje radiační štít pro přesné měření teploty.</p>
                    </div>`,
                content_en: `
                    <div class="space-y-3 sm:space-y-4">
                        <p class="font-medium text-indigo-500">Primary environmental data collection.</p>
                        <p class="text-sm sm:text-base">Autonomous outdoor unit designed for long-term operation. Built on a custom-designed "Carrier Board" PCB.</p>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Hardware Specs:</h4>
                        <ul class="list-disc pl-4 sm:pl-5 space-y-1 text-sm sm:text-base">
                            <li><strong>MCU:</strong> ESP32 (WROOM-32) - chosen for deep-sleep modes and performance.</li>
                            <li><strong>Communication:</strong> LoRa RFM95 module (868 MHz) in P2P mode for long range.</li>
                            <li><strong>Basic Sensors:</strong> BME280 (Pressure, Temperature, Humidity).</li>
                            <li><strong>Advanced Sensors (Phase 2):</strong> AS3935 (Lightning detector), rain gauge, anemometer.</li>
                        </ul>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Construction:</h4>
                        <p class="text-sm sm:text-base">3D printed enclosure made of ASA/PETG meeting IP65 standard. Includes a radiation shield for accurate temperature measurement.</p>
                    </div>`
            },
            'module-b': {
                title_cs: 'Modul B: Headless Server',
                title_en: 'Module B: Headless Server',
                content_cs: `
                    <div class="space-y-3 sm:space-y-4">
                        <p class="font-medium text-indigo-500">Centrální mozek a brána systému.</p>
                        <p class="text-sm sm:text-base">Vnitřní jednotka běžící v "headless" režimu (bez monitoru). Slouží jako most mezi LoRa sítí a domácí LAN/Cloudem.</p>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Funkcionalita:</h4>
                        <ul class="list-disc pl-4 sm:pl-5 space-y-1 text-sm sm:text-base">
                            <li><strong>Hardware:</strong> Raspberry Pi 4B/5 v chlazené krabičce.</li>
                            <li><strong>Příjem dat:</strong> Python skript naslouchající na LoRa modulu.</li>
                            <li><strong>MQTT Broker:</strong> Eclipse Mosquitto pro distribuci zpráv.</li>
                            <li><strong>Databáze:</strong> InfluxDB pro ukládání časových řad a historickou analýzu.</li>
                        </ul>
                        <p class="text-xs sm:text-sm bg-gray-100 dark:bg-gray-800 p-3 rounded border border-gray-200 dark:border-gray-700 mt-2">
                            Obsahuje také vlastní interní senzor BME280 pro měření podmínek v technické místnosti.
                        </p>
                    </div>`,
                content_en: `
                    <div class="space-y-3 sm:space-y-4">
                        <p class="font-medium text-indigo-500">Central brain and system gateway.</p>
                        <p class="text-sm sm:text-base">Indoor unit running in "headless" mode (monitor-less). Serves as a bridge between the LoRa network and home LAN/Cloud.</p>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Functionality:</h4>
                        <ul class="list-disc pl-4 sm:pl-5 space-y-1 text-sm sm:text-base">
                            <li><strong>Hardware:</strong> Raspberry Pi 4B/5 in a cooled case.</li>
                            <li><strong>Data Reception:</strong> Python script listening on the LoRa module.</li>
                            <li><strong>MQTT Broker:</strong> Eclipse Mosquitto for message distribution.</li>
                            <li><strong>Database:</strong> InfluxDB for storing time series and historical analysis.</li>
                        </ul>
                        <p class="text-xs sm:text-sm bg-gray-100 dark:bg-gray-800 p-3 rounded border border-gray-200 dark:border-gray-700 mt-2">
                            Also includes its own internal BME280 sensor for measuring utility room conditions.
                        </p>
                    </div>`
            },
            'module-c': {
                title_cs: 'Modul C: Klientské Rozhraní',
                title_en: 'Module C: Client Interface',
                content_cs: `
                    <div class="space-y-3 sm:space-y-4">
                        <p class="font-medium text-indigo-500">Vizualizační vrstva pro uživatele.</p>
                        <p class="text-sm sm:text-base">Moderní webová aplikace (Single Page Application) optimalizovaná pro zobrazení na nástěnném tabletu i mobilním telefonu.</p>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Technologie:</h4>
                        <ul class="list-disc pl-4 sm:pl-5 space-y-1 text-sm sm:text-base">
                            <li><strong>Frontend:</strong> React / Vue.js.</li>
                            <li><strong>Hosting:</strong> Nginx běžící na Modulu B (RPi).</li>
                            <li><strong>Analytika:</strong> Grafana pro detailní grafy a historické trendy.</li>
                        </ul>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Budoucí funkce:</h4>
                        <p class="text-sm sm:text-base">Implementace AI (Machine Learning) pro detekci anomálií a predikci počasí.</p>
                    </div>`,
                content_en: `
                    <div class="space-y-3 sm:space-y-4">
                        <p class="font-medium text-indigo-500">Visualization layer for users.</p>
                        <p class="text-sm sm:text-base">Modern web application (Single Page Application) optimized for display on a wall-mounted tablet or mobile phone.</p>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Technologies:</h4>
                        <ul class="list-disc pl-4 sm:pl-5 space-y-1 text-sm sm:text-base">
                            <li><strong>Frontend:</strong> React / Vue.js.</li>
                            <li><strong>Hosting:</strong> Nginx running on Module B (RPi).</li>
                            <li><strong>Analytics:</strong> Grafana for detailed charts and historical trends.</li>
                        </ul>
                        <h4 class="font-bold text-base sm:text-lg dark:text-white text-gray-900 mt-3 sm:mt-4">Future Features:</h4>
                        <p class="text-sm sm:text-base">AI (Machine Learning) implementation for anomaly detection and weather prediction.</p>
                    </div>`
            },
            'module-d': {
                title_cs: 'Modul D: Satelitní Uzel',
                title_en: 'Module D: Satellite Node',
                content_cs: `
                    <div class="space-y-3 sm:space-y-4">
                        <p class="font-medium text-indigo-500">Demonstrace modularity a škálovatelnosti.</p>
                        <p class="text-sm sm:text-base">Volitelný přídavný senzor pro specifická měření (např. sklep, půda), který ukazuje schopnost systému přijímat data z více zdrojů najednou.</p>
                        <ul class="list-disc pl-4 sm:pl-5 space-y-1 mt-3 sm:mt-4 text-sm sm:text-base">
                            <li>Napájení z baterie (Li-Ion 18650).</li>
                            <li>Optimalizovaný Deep-Sleep režim.</li>
                            <li>Odesílá data do stejné brány (Modul B).</li>
                        </ul>
                    </div>`,
                content_en: `
                    <div class="space-y-3 sm:space-y-4">
                        <p class="font-medium text-indigo-500">Demonstrating modularity and scalability.</p>
                        <p class="text-sm sm:text-base">Optional additional sensor for specific measurements (e.g., basement, attic), showing the system's ability to accept data from multiple sources simultaneously.</p>
                        <ul class="list-disc pl-4 sm:pl-5 space-y-1 mt-3 sm:mt-4 text-sm sm:text-base">
                            <li>Battery powered (Li-Ion 18650).</li>
                            <li>Optimized Deep-Sleep mode.</li>
                            <li>Sends data to the same gateway (Module B).</li>
                        </ul>
                    </div>`
            },
            'tech-hw': {
                title_cs: 'Hardware: ESP32 & LoRa',
                title_en: 'Hardware: ESP32 & LoRa',
                content_cs: 'Základem je mikrokontrolér ESP32 díky své nízké spotřebě a výkonu. Pro přenos dat na vzdálenost až 10 km (při přímé viditelnosti) je využit protokol LoRa na frekvenci 868 MHz. Nejde o LoRaWAN, ale o optimalizovaný P2P protokol pro nižší latenci.',
                content_en: 'Based on the ESP32 microcontroller for its low power consumption and performance. LoRa protocol at 868 MHz is used for data transmission up to 10 km (line of sight). This is not LoRaWAN, but an optimized P2P protocol for lower latency.'
            },
            'tech-backend': {
                title_cs: 'Backend: Python & MQTT',
                title_en: 'Backend: Python & MQTT',
                content_cs: 'Serverová část je napsána v jazyce Python (verze 3.11+). Zajišťuje čtení dat ze sériového portu (LoRa hat) a jejich publikování přes protokol MQTT. Celý backend běží v Docker kontejnerech pro snadné nasazení a izolaci.',
                content_en: 'The server side is written in Python (3.11+). It handles reading data from the serial port (LoRa hat) and publishing it via MQTT protocol. The entire backend runs in Docker containers for easy deployment and isolation.'
            },
            'tech-db': {
                title_cs: 'Data: InfluxDB',
                title_en: 'Data: InfluxDB',
                content_cs: 'Pro ukládání meteorologických dat je relační databáze nevhodná. Proto využíváme InfluxDB - databázi optimalizovanou pro časové řady (Time Series Database). To umožňuje rychlé dotazování na historii a efektivní kompresi dat.',
                content_en: 'Relational databases are unsuitable for meteorological data storage. Therefore, we use InfluxDB - a database optimized for Time Series. This allows fast historical queries and effective data compression.'
            },
            'tech-frontend': {
                title_cs: 'Frontend: React & Grafana',
                title_en: 'Frontend: React & Grafana',
                content_cs: 'Pro běžného uživatele vzniká přehledný Dashboard v Reactu ("Krásné zobrazení"). Pro hloubkovou analýzu dat (tlakové tendence, porovnání týdnů) slouží instance Grafany napojená přímo na InfluxDB.',
                content_en: 'For the casual user, a clean React Dashboard is being built. For in-depth data analysis (pressure trends, weekly comparisons), a Grafana instance connected directly to InfluxDB is used.'
            }
        };

        const modalOverlay = document.getElementById('modal-overlay');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');

        function openModal(id) {
            const data = projectData[id];
            if (!data) return;

            modalTitle.innerText = currentLang === 'cs' ? data.title_cs : data.title_en;
            modalBody.innerHTML = currentLang === 'cs' ? data.content_cs : data.content_en;
            
            const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;
            
            if (scrollbarWidth > 0) {
                document.body.style.paddingRight = `${scrollbarWidth}px`;
            }

            modalOverlay.classList.remove('hidden');
            
            setTimeout(() => {
                modalOverlay.classList.add('active');
            }, 10);
            
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            modalOverlay.classList.remove('active');
            
            setTimeout(() => {
                document.body.style.overflow = '';
                document.body.style.paddingRight = '';
            }, 300);
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        modalOverlay.addEventListener('click', (e) => {
            if (e.target === modalOverlay) closeModal();
        });

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in-up');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.fade-in-up').forEach(el => observer.observe(el));
        
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                const header = document.querySelector('header');
                const headerHeight = header.offsetHeight;

                if (targetId === '#') {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                } else {
                    const section = document.querySelector(targetId);
                    if (section) {
                        const separator = section.querySelector('.h-px');
                        
                        let targetPosition;
                        
                        if (separator) {
                            const separatorRect = separator.getBoundingClientRect();
                            const absoluteSeparatorTop = separatorRect.top + window.scrollY;
                            targetPosition = absoluteSeparatorTop - headerHeight;
                        } else {
                            const sectionRect = section.getBoundingClientRect();
                            targetPosition = (sectionRect.top + window.scrollY) - headerHeight;
                        }

                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });
        
        document.addEventListener('contextmenu', event => {
            event.preventDefault();
        });

        document.addEventListener('keydown', function(event) {
            if(event.key === 'F12') {
                event.preventDefault();
            }
            if(event.ctrlKey && (event.key === 'u' || event.key === 'U')) {
                event.preventDefault();
            }
            if(event.ctrlKey && (event.key === 's' || event.key === 'S')) {
                event.preventDefault();
            }
            if(event.ctrlKey && event.shiftKey && (event.key === 'i' || event.key === 'I')) {
                event.preventDefault();
            }
        });
    </script>
</body>
</html>
